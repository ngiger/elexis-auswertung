h1. Elexis Auswertung

Eine kleine Java/Eclipse-RCP basierende Applikation, um auf der Elexis-Datenbank eine Tabelle mit ausgedeutschen Feldern für eine einfache Auswertung zu erstellen.

h2. Anforderungen

Für das Projekt medix.net-database.org im Zusammenhang mit Diabetes Qualitätsstandards www.equam.ch braucht Dr. Marco Vecellio aus Zürich eine Tabelle in der Elexis-Datenbank mit folgendem Inhalt

* Kopie der Tabelle kontakte
* Löschen aller Einträge wo istPatient falsch istPatient
* Kopie (als varchar lesbare) folgender Spalten. Prefix ist jeweils s_<spaltenname) (s wie String)
** Diagnosen
** PersAnamnese
** SysAnamnese
** FamAnamnese

Folgende Annahmen wurden gemacht:
* Nur MySQL wird als Datenbank unterstützt.
* Grundlage ist Elexis 3.0

h2. Installation

Von "Continuos Integration for Elexis 3":https://jenkins.elexis.info/jenkins/job/elexis-auswertung/lastSuccessfulBuild/artifact/ch.ngiger.elexis.auswertung.products/target/products/ die komprimierte Datei für das eigene Betriebssystem runterladen und entpacken.

h2. Ausführen

Die (kommentierte) Datei "batch.sh":https://raw.githubusercontent.com/ngiger/elexis-auswertung/master/batch.sh herunterladen und für Ihre Umgebung anpassen (Benutzernamen, Passwörter, DB-Name, etc). Danach kann man auf der Kommandozeile

@bash batch.sh@ ausführen

Danach kann man mysql sich auf die Datebank verbinden. Folgende Abfrage sollte funktionieren;

bc. mysql> select diagnosen_text from kontakt_copy where diagnosen is not null limit 1;
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| diagnosen_text                                                                                                                                                          |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|
F45.4: Anhaltende somatoforme Schmerzstörung;K58: Colon irritabile;N41.1: Chronische Prostatitis;E78.2: Gemischte Hyperlipidämie;A9: Herz- / Kreislaufsystem anderes   |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
1 row in set (0.00 sec)



h2. Aussichten

In einem zweiten Schritt (aber erst ab Elexis 3.1) soll noch die Fixmedikation hinzukommen.

h2. Hints for programmers

h3. requirements

You need the following tools git, maven (Version 3.0.5), java (Version 7 or higher), then the following steps should work
* @git clone https://github.com/ngiger/elexis-auswertung.git@
* @cd elexis-auswertung@
* @mvn clean install@

To install maven under MacOSX you might use "Homebrew":http://brew.sh/ and run @brew install maven30@

This application runs a bare Elexis on the console. It demonstrates the headless running capabilities of @ch.elexis.core.data@.
This allows to access an Elexis database without starting a full graphical system. Import all the eclipse project into your Eclipse IDE.

To start the application right click on @Auswertung.product.launch@ and select @Run As..Auswertung.product@.

